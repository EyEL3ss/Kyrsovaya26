<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="UltimateWalletFinal.Views.AddCardFromScanPage"
             Title="AddCardFromScanPage">
    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">

            <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÐºÐ°Ð½Ðµ -->
            <Frame Padding="15" CornerRadius="15"
                   BackgroundColor="#E3F2FD">
                <VerticalStackLayout Spacing="5">
                    <Label x:Name="userGreetingLabel"
       FontSize="14"
       TextColor="#1565C0" />
                    <Label Text="ðŸ“· Ð¡ÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="#1565C0" />
                    <Label Text="{Binding ScanResult.CodeType}"
                           FontSize="12"
                           TextColor="#1976D2" />
                    <Label Text="{Binding ScanResult.ScanTime, StringFormat='Ð’Ñ€ÐµÐ¼Ñ: {0:HH:mm}'}"
                           FontSize="11"
                           TextColor="#64B5F6" />
                </VerticalStackLayout>
            </Frame>

            <!-- Ð¤Ð¾Ñ€Ð¼Ð° Ñ Ð¿Ñ€ÐµÐ´Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ -->
            <Frame Padding="15" CornerRadius="15"
                   BackgroundColor="#F5F5F5">
                <VerticalStackLayout Spacing="12">

                    <!-- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ -->
                    <Label Text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹" FontSize="14" />
                    <Entry x:Name="cardNameEntry" 
                           Text="{Binding SuggestedCardName}"
                           Placeholder="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹" />

                    <!-- ÐÐ¾Ð¼ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ñ‹ -->
                    <Label Text="ÐÐ¾Ð¼ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ñ‹" FontSize="14" Margin="0,10,0,0" />
                    <Entry x:Name="cardNumberEntry" 
                           Text="{Binding CardNumber}"
                           IsReadOnly="True"
                           BackgroundColor="#EEEEEE" />

                    <Button Text="âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð¼ÐµÑ€"
                            Clicked="OnEditNumberClicked"
                            BackgroundColor="Transparent"
                            TextColor="#2196F3"
                            FontSize="12"
                            HorizontalOptions="Start" />
                    <Label Text="CVV ÐºÐ°Ñ€Ñ‚Ñ‹" FontSize="14" Margin="0,10,0,0" />
                    <Label Text="CVV/CVC" FontSize="14" Margin="0,10,0,0" />
                    <Entry x:Name="cardCvEntry" 
       Placeholder="XXX"
       Keyboard="Numeric"
       MaxLength="4"
       IsPassword="True" />
                    <!-- ÐœÐ°Ð³Ð°Ð·Ð¸Ð½ -->
                    <Label Text="ÐœÐ°Ð³Ð°Ð·Ð¸Ð½" FontSize="14" Margin="0,10,0,0" />
                    <Picker x:Name="shopPicker"
                            Title="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½"
                            ItemDisplayBinding="{Binding ShopName}" />

                    <!-- ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ -->
                    <Label Text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" FontSize="14" Margin="0,10,0,0" />
                    <Picker x:Name="categoryPicker"
                            Title="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ"
                            ItemDisplayBinding="{Binding CategoryName}" />
                    <Label Text="Ð¡ÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)" 
       FontSize="14" 
       Margin="0,10,0,0" />
                    <Entry x:Name="imageUrlEntry" 
       Placeholder="https://example.com/card.png"
       Keyboard="Url" />
                    <!-- Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÑÐºÐ°Ð½Ð° -->
                    <Frame x:Name="extraDataFrame"
                           IsVisible="False"
                           Padding="10"
                           CornerRadius="10"
                           BackgroundColor="#FFF3E0"
                           Margin="0,10,0,0">
                        <VerticalStackLayout>
                            <Label Text="ðŸ“Š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÐºÐ¾Ð´Ð°:"
                                   FontSize="12"
                                   FontAttributes="Bold"
                                   TextColor="#EF6C00" />
                            <Label x:Name="extraDataLabel"
                                   FontSize="11"
                                   TextColor="#F57C00" />
                        </VerticalStackLayout>
                    </Frame>

                </VerticalStackLayout>
            </Frame>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
            <Grid ColumnDefinitions="*,*" 
                  ColumnSpacing="10"
                  Margin="0,20,0,0">

                <Button Text="âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"
                        Clicked="OnSaveClicked"
                        BackgroundColor="#4CAF50"
                        TextColor="White"
                        CornerRadius="10"
                        HeightRequest="50"
                        FontSize="16" />
            </Grid>

            <Button Text="ðŸ“· Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ„Ð¾Ñ‚Ð¾ ÐºÐ°Ñ€Ñ‚Ñ‹"
                    Clicked="OnTakePhotoClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    CornerRadius="10"
                    HeightRequest="45"
                    FontSize="14"
                    Margin="0,10,0,0" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>